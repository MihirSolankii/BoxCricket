// ==================== MODELS INDEX FILE ====================
// Import all models

const Base = require('./Base.model');
const User = require('./User.model');
const Admin = require('./Admin.model');
const Box = require('./Box.model');
const Booking = require('./Booking.model');
const Transaction = require('./Transaction.model');
const ExpenseGroup = require('./ExpenseGroup.model');
const { 
  PlayerFinder, 
  Review, 
  Notification, 
  FriendRequest, 
  PromoCode 
} = require('./OtherSchemas.model');

// Export all models
module.exports = {
  Base,
  User,
  Admin,
  Box,
  Booking,
  Transaction,
  ExpenseGroup,
  PlayerFinder,
  Review,
  Notification,
  FriendRequest,
  PromoCode
};

/* 
==================== USAGE EXAMPLES ====================

// Import specific models
const { User, Admin, Booking } = require('./models');

// Or import all
const models = require('./models');
const User = models.User;

==================== MODEL RELATIONSHIPS ====================

1. BASE MODEL (Parent)
   └── User (Discriminator - role: 'user')
   └── Admin (Discriminator - role: 'admin')

2. BOX
   └── owner: Admin (ref: Base)

3. BOOKING
   ├── box: Box
   ├── bookedBy: User (ref: Base)
   ├── boxOwner: Admin (ref: Base)
   └── participants: [User] (ref: Base)

4. TRANSACTION
   ├── booking: Booking
   ├── from: User (ref: Base)
   └── to: Admin (ref: Base)

5. EXPENSE GROUP
   ├── booking: Booking
   ├── paidBy: User (ref: Base)
   └── splits.user: User (ref: Base)

6. PLAYER FINDER
   ├── box: Box
   ├── createdBy: User (ref: Base)
   └── currentPlayers: [User] (ref: Base)

7. REVIEW
   ├── box: Box
   ├── user: User (ref: Base)
   └── booking: Booking

8. NOTIFICATION
   └── user: User/Admin (ref: Base)

9. FRIEND REQUEST
   ├── from: User (ref: Base)
   └── to: User (ref: Base)

10. PROMO CODE
    └── createdBy: Admin (ref: Base)

==================== KEY FEATURES ====================

✅ Base Model with Discriminators (User & Admin share common fields)
✅ Geospatial Indexes (for nearby box search)
✅ Payment Tracking (Transaction model)
✅ Expense Splitting (Splitwise-like functionality)
✅ Player Finder (Find players for matches)
✅ Reviews & Ratings
✅ Friend System
✅ Notifications
✅ Promo Codes

==================== IMPORTANT NOTES ====================

1. Base Model:
   - Contains common fields (name, email, password, phone, role, verification)
   - User and Admin extend this using discriminators
   - Both stored in same collection with role field

2. User Model:
   - Has nickname, location, friends
   - For booking users

3. Admin Model:
   - Has businessName, businessAddress, paymentDetails
   - For box owners

4. Payment Flow:
   - User pays → Transaction created → Money goes to Admin
   - Admin receives amount = booking amount - platform fee

5. Expense Split:
   - User who booked pays admin first
   - Then friends settle with that user (not admin)
   - Splitwise-style tracking

*/